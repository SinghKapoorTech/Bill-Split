@layer utilities {
    /* ==============================================
     LOADING STATES
     Spinner and loading container patterns
     ============================================== */

    .loading-spinner {
        @apply w-12 h-12 animate-spin text-primary;
    }

    .loading-spinner-sm {
        @apply w-5 h-5 animate-spin;
    }

    .loading-spinner-md {
        @apply w-8 h-8 animate-spin;
    }

    .loading-container {
        @apply flex items-center justify-center h-screen;
    }

    .loading-overlay {
        @apply absolute inset-0 flex items-center justify-center bg-background/80 backdrop-blur-sm z-50;
    }

    /* ==============================================
     RESPONSIVE TEXT
     Text sizing that adapts to screen size
     ============================================== */

    .responsive-text-xs {
        @apply text-xs md:text-sm;
    }

    .responsive-text-sm {
        @apply text-sm md:text-base;
    }

    .responsive-text-base {
        @apply text-base md:text-lg;
    }

    .responsive-text-lg {
        @apply text-lg md:text-xl;
    }

    .responsive-text-xl {
        @apply text-xl md:text-2xl;
    }

    .responsive-text-2xl {
        @apply text-2xl md:text-3xl;
    }

    .text-caption-responsive {
        @apply text-xs md:text-sm;
    }

    /* ==============================================
     TRANSITIONS
     Common transition patterns
     ============================================== */

    .transition-smooth {
        @apply transition-all duration-300 ease-in-out;
    }

    .transition-fast {
        @apply transition-all duration-150 ease-in-out;
    }

    .transition-slow {
        @apply transition-all duration-500 ease-in-out;
    }

    /* ==============================================
     HOVER EFFECTS
     Interactive hover states
     ============================================== */

    .hover-lift {
        @apply transition-transform hover:scale-[1.02] hover:shadow-lg;
    }

    .hover-lift-sm {
        @apply transition-transform hover:scale-[1.01] hover:shadow-md;
    }

    .hover-glow {
        @apply transition-shadow hover:shadow-primary/20 hover:shadow-lg;
    }

    .hover-bg-muted {
        @apply transition-colors hover:bg-muted;
    }

    /* ==============================================
     TRUNCATION & OVERFLOW
     Text overflow handling
     ============================================== */

    .truncate-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    .truncate-3 {
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    /* ==============================================
     FOCUS STATES
     Accessible focus indicators
     ============================================== */

    .focus-ring {
        @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2;
    }

    .focus-ring-primary {
        @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2;
    }

    /* ==============================================
     GRADIENT BACKGROUNDS
     Convenient gradient helpers
     ============================================== */

    .bg-gradient-primary {
        @apply bg-gradient-to-r from-primary to-primary-glow;
    }

    .bg-gradient-subtle {
        @apply bg-gradient-to-b from-background to-muted;
    }

    .bg-gradient-radial {
        background: radial-gradient(circle at center, hsl(var(--primary) / 0.1) 0%, transparent 70%);
    }

    /* ==============================================
     ANIMATIONS
     Custom animation utilities
     ============================================== */

    .animate-fade-in {
        animation: fadeIn 0.3s ease-in-out;
    }

    .animate-slide-up {
        animation: slideUp 0.3s ease-out;
    }

    .animate-slide-down {
        animation: slideDown 0.3s ease-out;
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
        }

        to {
            opacity: 1;
        }
    }

    @keyframes slideUp {
        from {
            transform: translateY(10px);
            opacity: 0;
        }

        to {
            transform: translateY(0);
            opacity: 1;
        }
    }

    @keyframes slideDown {
        from {
            transform: translateY(-10px);
            opacity: 0;
        }

        to {
            transform: translateY(0);
            opacity: 1;
        }
    }

    /* ==============================================
     SAFE AREA UTILITIES
     iOS notch and safe area handling
     ============================================== */

    .safe-top {
        padding-top: env(safe-area-inset-top);
    }

    .safe-bottom {
        padding-bottom: env(safe-area-inset-bottom);
    }

    .safe-left {
        padding-left: env(safe-area-inset-left);
    }

    .safe-right {
        padding-right: env(safe-area-inset-right);
    }

    /* ==============================================
     TAB CONTENT TRANSITIONS
     Smooth fade for tab switching
     ============================================== */

    .fade-in {
        animation: fadeIn 0.3s ease-in-out;
    }
}